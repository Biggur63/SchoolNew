{{/* layouts/course/list.html
   Список курсов — рендерит карточки детей раздела courses.
   Использует partial "course-card.html" для единообразного вывода карточки.
*/}}

{{ define "main" }}

<div class="container mx-auto px-4 py-8">

  <h1 class="text-3xl font-bold mb-6">{{ .Title }}</h1>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">

    {{/* Исключаем пустые страницы (чтобы не рендерить .bak / _tmp файлы с пустыми Title) */}}
    {{ $pages := where .Pages "Title" "ne" "" }}

    {{ range $p := $pages }}
      {{ partial "course-card.html" $p }}
    {{ end }}

  </div>

</div>

{{ end }}
