{{ define "main" }}
<div class="relative w-full h-full">

  {{/* 
      Если фон задан в front matter (bg_img или bg_image), 
      то baseof.html уже отрисует background и затемнение через body::before,
      поэтому здесь не рендерим дополнительный <img> и оверлей.
      Если фон не задан — рендерим локальный фон с оверлеем.
  */}}
  {{ $hasBgParam := or .Params.bg_img .Params.bg_image }}
  {{ if not $hasBgParam }}
  <!-- Фоновое изображение (локально, если глобального нет) -->
  <div class="absolute inset-0 z-0">
    {{ with or .Params.bg_image .Params.bg_img }}
      <img src="{{ . }}" alt="Фон" class="w-full h-full object-cover">
    {{ end }}
    <div class="absolute inset-0 bg-black/40"></div> <!-- затемнение локального фона -->
  </div>
  {{ end }}

  <!-- Контент по центру -->
  <div class="relative z-10 grid place-items-center min-h-screen text-center px-4">
    <div class="max-w-2xl">
      <h1 class="text-4xl md:text-5xl font-bold mb-4 mt-0 text-gray-100">{{ .Title }}</h1>
      {{ with .Params.description }}
        <p class="text-lg mb-6 text-gray-200">{{ . }}</p>
      {{ end }}

      <a href="/courses/"
         class="inline-block text-white font-semibold px-6 py-3 rounded shadow-lg transition"
         style="background-color:#6c0101;"
         onmouseover="this.style.backgroundColor='#cb0000';"
         onmouseout="this.style.backgroundColor='#810000';">
         Перейти к курсам
      </a>
    </div>
  </div>

</div>
{{ end }}
