{{/* photomasters shortcode  autogenerated */}}
<table class="min-w-full border-collapse my-6">
  <thead>
    <tr>
      <th class="text-left border-b py-2 px-3">№</th>
      <th class="text-left border-b py-2 px-3">Имя</th>
      <th class="text-left border-b py-2 px-3">Годы жизни</th>
      <th class="text-left border-b py-2 px-3">Ссылка</th>
    </tr>
  </thead>
  <tbody>
    {{/* Попытки найти данные под разными ключами */}}
    {{ $.Scratch.Set "mastersData" (index .Site.Data "list-of-masters") }}
    {{ if not ($.Scratch.Get "mastersData") }}{{ $.Scratch.Set "mastersData" (index .Site.Data "list_of_masters") }}{{ end }}
    {{ if not ($.Scratch.Get "mastersData") }}{{ $.Scratch.Set "mastersData" (.Site.Data.masters) }}{{ end }}
    {{ if not ($.Scratch.Get "mastersData") }}{{ $.Scratch.Set "mastersData" (index .Site.Data "listofmasters") }}{{ end }}

    {{ $list := $.Scratch.Get "mastersData" }}
    {{ if not $list }}
      <tr><td colspan="4" class="py-4 px-3 text-sm text-gray-600">Данные мастеров не найдены (положите YAML в data/list-of-masters.yaml)</td></tr>
    {{ else }}
      {{ range $i, $m := $list }}
        <tr>
          <td class="border-b py-2 px-3">{{ add $i 1 }}</td>
          <td class="border-b py-2 px-3">
            {{ with $m.name }}{{ . }}{{ end }}
            {{ with $m.name2nd }} <span class="text-sm text-gray-600">{{ . }}</span>{{ end }}
          </td>
          <td class="border-b py-2 px-3">
            {{- with $m.born }}{{ . }}{{ end -}}
            {{- if or $m.born $m.died }} — {{ end -}}
            {{- with $m.died }}{{ . }}{{ end -}}
          </td>
          <td class="border-b py-2 px-3">
            {{ with $m.link }}
              <a href="{{ . }}" target="_blank" rel="noopener" class="text-indigo-600 underline">открыть</a>
            {{ else }}
              
            {{ end }}
          </td>
        </tr>
      {{ end }}
    {{ end }}
  </tbody>
</table>